language: java
sudo: false
install: true

addons:
  sonarcloud:
    token:
      secure: "ghf9h2Lw0BfmkSq6L5pBNU+vW0bkWVV5xWRGNZgAGR/vpg7cRJViDHXWtG/noHda8UuaXbLdfSnxokZ9aQAwGB/OHne3Ac1uUCgw6FA49xCzykJD/EN5raqEzgCdxc0uFQGgspXGfKo5kYMC1BF8K7H39NbObLDGy4xN49SsqPMG1evnOF7s79bsawr3fsE54ufyA/xRRaX8I1k8QnUZRNn5fdABSGrN0MurswcJRbLpyF46okOQxutJ1uJtvphNQW61X9v2/nXSUNZ7APA5egZYl34l/BSuXTauso+B4PZT+LEN5am9wwopjLg5CardyBQBkSMr0iakXAgUDUudbmcbUHFsnC1QMvdikHJRvAAquJducVr+ATI3WMEcfoK/ShF0NRkxxWiGXqOF62LFb45gJRR4gGc/jcd49VnxuUz8wJmWgcaYHVgoCrQJ74SKgk503/e98L3r6ds3Klgy5ejK9AysxNBL8ayP/cEPW3iKPsoUUTmWeIznfQh1ixEcs1d/3Elsw7aMUwiPqTDUgrVLdr064CjAH8dOjKwgeXoYwZU/RBhXoVQvZ9zU4MJKS1Ia9yXK4q2+7A9BD619tFgpNjekr8ciaB5TRe0fgaoUhg/LIJmGLjlUC2JzuT2wzB1jpgy4VcQAbOFlB37YJX7KGfD8vfUkhi09Eh00q+o="

jdk:
- oraclejdk8

notifications:
  email:
    recipients:
    - akamen@blackducksoftware.com
    - ekerwin@blackducksoftware.com

script:
 - "./gradlew clean build sonarqube"

after_success:
 - "./gradlew test jacocoTestReport coveralls"
 - bash <(curl -s https://copilot.blackducksoftware.com/ci/travis/scripts/upload)

cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"
  - "$HOME/.gradle"
  - ".gradle"
