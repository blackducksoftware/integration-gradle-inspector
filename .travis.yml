language: java
sudo: false
install: true

addons:
  sonarcloud:
    token:
      secure: "QjOFW/JWOGPMVLB45NuLvDtu/GbXUinlrnhYo0gOQJAMfHc+Zyfxr7OnrEdaD/5O6ZodRq25gNdDQp7vHlyorkLozpUnWM+aWky7JKvhMmeHc1wwyt2s7IIG61994HBXUtyffG487fwXrls+qQ0biqr2k24rdUEmdHP2xcA+wYxV68Jp+9j+GcK4lRwKfsbGP03T96yvQICWbCxjQQHSADlbvJHHTGHSRzjHIH8JEhs5quh1/BbPzZXgC6h6SYo29bWEp6iikH6kGndPdGY9SI5kkZy2KxbJ6+cIl3xYGz+w3NfqAwYEAfbawHYIxNt1aFDzTQzM3wDvpCVVBfPtSvdZoPDqp1LMjhPt2R7KTmtGSBN2h7XjcLIIAwOfkBcoAYxPVljMJIvjGiS3nw/2V4JU9o1On4f7lTDQDQtCoOdhy/wYwwafIHSanTS1QO0rQ8PoKevUbuZfKOM9H3LyNrkaVi/cYAsI2HiErnZTaD/JvGnFV9Vpaem9WmWOVgv3plBYeyUDzapjnxlKWnz9V1aeBXN3Ycy1/qHonoPUADj+ufVH52wEtRPuoee3okbDlZB1vQja/Yo2whQ26TK4I/eHnx9ornojiP0QFc4aN9QERXjOhso7JSyz2OwKpKMfAQaek47++ttBAxspFzL0vmFEo9PKHZ4ZcMd3wlpJRGE="

jdk:
- oraclejdk8

notifications:
  email:
    recipients:
    - akamen@blackducksoftware.com
    - ekerwin@blackducksoftware.com

script:
 - "./gradlew clean build sonarqube"

after_success:
 - "./gradlew test jacocoTestReport coveralls"
 - bash <(curl -s https://copilot.blackducksoftware.com/ci/travis/scripts/upload)

cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"
  - "$HOME/.gradle"
  - ".gradle"
